plugins {
    id 'com.craigburke.client-dependencies' version '1.4.0'
}

apply plugin: 'java'
apply plugin: 'application'

//Heroku can be changed to run build instead of stage.
task stage(dependsOn: ['build', 'clean'])
build.mustRunAfter clean

repositories {
    jcenter()
}

dependencies {
    compile 'com.google.guava:guava:21.0'
    compile "com.sparkjava:spark-core:2.6.0"
    testCompile 'junit:junit:4.12'
}

clientDependencies {
    npm {
        'pixi.js'('4.5.1')
    }
}

build.dependsOn clientInstall

mainClassName = 'App'

jar {
    manifest {
        attributes(
	    'Main-Class': 'App'
	)
    }
}
